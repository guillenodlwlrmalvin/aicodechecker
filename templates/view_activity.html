{% extends 'base.html' %}
{% block title %}{{ activity.title }} Â· CodeCraft{% endblock %}
{% block content %}
<section class="card" style="max-width: 800px; margin: 0 auto;">
	<div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
		<h2 style="margin:0;">{{ activity.title }}</h2>
		<a href="{{ url_for('student_dashboard') }}" class="button">Back to Dashboard</a>
	</div>
	
	<div style="display: flex; gap: 12px; margin-bottom: 16px; flex-wrap: wrap;">
		<span class="badge" style="background: #3b82f6; color: white;">{{ activity.group_name }}</span>
		<span class="badge" style="background: #6b7280; color: white;">{{ activity.activity_type.title() }}</span>
		{% if activity.due_date %}
		<span class="badge" style="background: #f59e0b; color: white;">Due: {{ activity.due_date[:10] }}</span>
		{% endif %}
	</div>

	{% if activity.description %}
	<div style="margin-bottom: 20px; padding: 12px; background: #f3f4f6; border-radius: 4px;">
		<h4 style="margin: 0 0 8px 0;">Description</h4>
		<p style="margin: 0;">{{ activity.description }}</p>
	</div>
	{% endif %}

	<div style="margin-bottom: 20px;">
		<h4 style="margin: 0 0 8px 0;">Instructions</h4>
		<div style="padding: 12px; border: 1px solid #d1d5db; border-radius: 4px; background: white;">
			{{ activity.content|replace('\n', '<br>')|safe }}
		</div>
	</div>

	<!-- Submission Form -->
	<div style="border-top: 1px solid #d1d5db; padding-top: 20px;">
		<h4 style="margin: 0 0 12px 0;">Your Submission</h4>
		<form method="POST" action="{{ url_for('submit_activity_route', activity_id=activity.id) }}">
			<div>
				<label for="content" style="display: block; margin-bottom: 4px; font-weight: 500;">Your Answer *</label>
				<textarea id="content" name="content" rows="8" required
						  style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px; resize: vertical;"
						  placeholder="Enter your response here..."></textarea>
			</div>
			
			<div style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 16px;">
				<a href="{{ url_for('student_dashboard') }}" class="button" style="background: #6b7280;">Cancel</a>
				<button type="submit" class="button">Submit Activity</button>
			</div>
		</form>
	</div>
</section>
{% endblock %}
