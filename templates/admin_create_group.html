{% extends 'base.html' %}
{% block title %}Create Group as Admin Â· CodeCraft{% endblock %}
{% block content %}
<section class="card" style="max-width: 600px; margin: 0 auto;">
	<div style="display:flex; justify-content: space-between; align-items: center; margin-bottom: 16px;">
		<h2 style="margin:0;">Create New Group</h2>
		<a href="{{ url_for('admin_dashboard') }}" class="button">Back to Admin</a>
	</div>
	<p class="muted" style="margin-top: 0;">Create a new group/section and assign it to a teacher.</p>

	<form method="POST" style="display: flex; flex-direction: column; gap: 16px;">
		<div>
			<label for="name" style="display: block; margin-bottom: 4px; font-weight: 500;">Group Name *</label>
			<input type="text" id="name" name="name" required 
				   style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;"
				   placeholder="e.g., CS101 - Programming Fundamentals">
		</div>
		
		<div>
			<label for="description" style="display: block; margin-bottom: 4px; font-weight: 500;">Description</label>
			<textarea id="description" name="description" rows="4"
					  style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px; resize: vertical;"
					  placeholder="Brief description of the group/section..."></textarea>
		</div>

		<div>
			<label for="teacher_id" style="display: block; margin-bottom: 4px; font-weight: 500;">Assign to Teacher *</label>
			<select id="teacher_id" name="teacher_id" required
					style="width: 100%; padding: 8px; border: 1px solid #d1d5db; border-radius: 4px;">
				<option value="">Select a teacher...</option>
				{% for teacher in teachers %}
				<option value="{{ teacher.id }}">{{ teacher.username }} ({{ teacher.username }})</option>
				{% endfor %}
			</select>
			{% if not teachers %}
			<p style="margin-top: 8px; color: #ef4444; font-size: 0.9em;">
				No approved teachers found. Please approve a teacher account first.
			</p>
			{% endif %}
		</div>

		<div style="display: flex; gap: 12px; justify-content: flex-end;">
			<a href="{{ url_for('admin_dashboard') }}" class="button" style="background: #6b7280;">Cancel</a>
			<button type="submit" class="button" {% if not teachers %}disabled{% endif %}>Create Group</button>
		</div>
	</form>
</section>
{% endblock %}
